!function(e){function t(t){for(var i,c,a=t[0],u=t[1],s=t[2],l=0,f=[];l<a.length;l++)c=a[l],r[c]&&f.push(r[c][0]),r[c]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);for(d&&d(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},r={3:0},o=[];function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=u;o.push([80,0,1]),n()}({80:function(e,t,n){e.exports=n(85)},81:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),o=n.n(r),c=n(16),a=n.n(c);n(81),n(83),n(4);function u(e){var t=e.setToggle,n=e.dragAndDrop,c=(e.toggle,Object(r.useState)(null)),a=Object(i.a)(c,2),u=a[0],s=a[1],d=Object(r.useState)(!1),l=Object(i.a)(d,2),f=(l[0],l[1]),g=Object(r.useRef)(null);return Object(r.useEffect)(function(){document.addEventListener("notification",function(e){s(e.detail)}),document.addEventListener("loading",function(e){f(e.detail)})},[]),o.a.createElement("div",{id:"KasprPluginBtn",className:"KasprPluginBtn  show",style:{top:n.dropPosition.y,right:n.dropPosition.x}},o.a.createElement("button",{onDragEnd:n.onDrop,onClick:t,draggable:!0,ref:g},u&&o.a.createElement("span",{className:"widget-notification"},u," "),o.a.createElement("span",{className:"img-container "},o.a.createElement("img",{src:window.chrome.runtime.getURL("assets/images/kaspr.png")}))))}var s=n(20),d=n(5);var l=n(15),f=n(89),g={fr:l.d,en:l.b,de:l.a,es:l.c},b=navigator.language.split(/[-_]/)[0];function m(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),l=Object(i.a)(a,2),m=l[0],p=l[1],O=Object(r.useState)(null),v=Object(i.a)(O,2),w=v[0],j=v[1],h=Object(r.useState)(b),y=Object(i.a)(h,2),E=y[0],S=y[1],x=Object(r.useState)(!1),P=Object(i.a)(x,2),_=(P[0],P[1],Object(r.useState)(!1)),T=Object(i.a)(_,2),I=T[0],L=T[1];Object(r.useEffect)(function(){window.chrome.runtime.onMessage.addListener(function(e,t,n){if(!e.IsRefreshConnection)return!1;e.isConnected?L(!0):L(!1)})},[]),Object(r.useEffect)(function(){document.addEventListener("notification",function(e){j(e.detail)})},[]),Object(r.useEffect)(function(){return document.addEventListener("open_widget",D),function(){document.removeEventListener("open_widget",D)}},[]);var D=function(e){c(!0)};Object(r.useEffect)(function(){m&&m.email?S(m.language):S(b)},[m]),Object(r.useEffect)(function(){m&&m.autoOpen&&!n&&c(!!w)},[w]);var N=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),a=Object(i.a)(c,2),u=a[0],s=a[1];return Object(r.useEffect)(function(){Object(d.b)("GET_WIDGET_POSITION").then(function(e){if(e){var t=JSON.parse(e);window.innerWidth/2>t.x?(o({y:t.y>70?t.y-35:70,x:window.innerWidth-20-70}),s("left")):(o({y:t.y>70?t.y-35:70,x:5}),s("right"))}else o({x:5,y:200}),s("right")}),document.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault()},!1)},[]),Object(r.useEffect)(function(){window.onresize=function(){"left"==u?(o({y:n?n.y:165,x:window.innerWidth-20-70}),s("left")):(o({x:5,y:n?n.y:165}),s("right"))}}),{onDrop:function(e){Object(d.b)("SAVE_WIDGET_POSITION",JSON.stringify({x:e.clientX,y:e.clientY})),window.innerWidth/2>e.clientX?(o({y:e.clientY>70?e.clientY-35:70,x:window.innerWidth-20-70}),s("left")):(o({y:e.clientY>70?e.clientY-35:70,x:5}),s("right"))},dropPosition:n,widgetPosition:u}}();return N.widgetPosition||N.dropPosition?o.a.createElement(f.a,{locale:E,messages:g[E]},o.a.createElement("div",{className:"plugin-wrapper"},o.a.createElement(s.a,{setToggle:function(){return c(!1)},toggle:n,widgetPosition:N.widgetPosition,setUserInfos:p,refresh:I}),o.a.createElement(u,{setToggle:function(){return c(!0)},toggle:n,dragAndDrop:N}))):o.a.createElement("div",null)}b="fr"!==b&&"en"!==b&&"de"!==b&&"es"!==b?"en":b;var p=Math.random().toString(36).substring(10);window.location.href.indexOf("linkedin.com")>-1&&-1==window.location.href.indexOf("chrome-extension")&&window.chrome.runtime.sendMessage({action:"GET_WIDGET_STATUS"},function(e){if(e.isActivated){var t=document.createElement("div");t.id=p,document.body.insertBefore(t,document.body.firstChild),a.a.render(o.a.createElement(m,null),t)}window.chrome.runtime.onMessage.addListener(function(e,t,n){if("CHANGE_URL"===e.message)return!1;if(!e.widgetActivationRequest)return!1;if(e.isWidgetActivated){var i=document.createElement("div");i.id=p,document.body.insertBefore(i,document.body.firstChild),a.a.render(o.a.createElement(m,null),i)}else{var r=document.getElementById(p);r&&document.body.removeChild(r)}})})}});
//# sourceMappingURL=linkedinWidget.js.map